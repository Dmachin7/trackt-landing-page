---
const steps = [
  {
    number: "01",
    title: "Add Your Products",
    description: "Import your catalog or add items manually. Set stock thresholds so Trackt knows when to alert you.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>`,
  },
  {
    number: "02",
    title: "Track Your Sales",
    description: "Log sales as they happen. Trackt automatically updates your inventory counts in real time.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>`,
  },
  {
    number: "03",
    title: "Get Clear Insights",
    description: "Receive weekly reports and instant alerts. Spot trends and act before stock runs out.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`,
  },
];
---

<section class="relative overflow-hidden px-5 py-20 md:py-28">

  <!-- Subtle background accent -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--color-brand-accent)_0%,_transparent_70%)] opacity-[0.04]"></div>

  <div class="relative z-10 mx-auto max-w-5xl">

    <!-- Section header -->
    <div class="scroll-reveal mb-16 text-center opacity-0 translate-y-8 transition-all duration-700 ease-out">
      <p class="text-sm font-semibold uppercase tracking-widest text-brand-primary">How It Works</p>
      <h2 class="mt-3 text-3xl font-bold md:text-4xl">Up and running in minutes</h2>
      <p class="mx-auto mt-4 max-w-lg text-text-secondary">
        No complex setup. No training required. Just clarity from day one.
      </p>
    </div>

    <!-- Steps -->
    <div class="relative grid grid-cols-1 gap-10 md:grid-cols-3 md:gap-8">

      <!-- Dashed connector line â€” desktop only -->
      <div
        class="pointer-events-none absolute top-6 left-[calc(16.666%+28px)] right-[calc(16.666%+28px)] hidden h-px md:block"
        style="background: repeating-linear-gradient(90deg, rgba(22,180,210,0.35) 0px, rgba(22,180,210,0.35) 6px, transparent 6px, transparent 14px);"
      ></div>

      {steps.map((step, index) => (
        <div
          class="scroll-reveal flex flex-col items-center text-center opacity-0 translate-y-8 transition-all duration-700 ease-out"
          style={`transition-delay: ${index * 150}ms`}
        >
          <!-- Icon circle with step badge -->
          <div class="relative mb-6 flex h-12 w-12 items-center justify-center rounded-full border border-brand-primary/40 bg-brand-primary/10 text-brand-primary ring-4 ring-brand-primary/5">
            <Fragment set:html={step.icon} />
            <span class="absolute -top-1.5 -right-1.5 flex h-5 w-5 items-center justify-center rounded-full bg-brand-primary text-[10px] font-bold text-white">
              {index + 1}
            </span>
          </div>

          <h3 class="mb-2 text-lg font-semibold text-text-primary">{step.title}</h3>
          <p class="max-w-xs text-sm leading-relaxed text-text-secondary">{step.description}</p>
        </div>
      ))}

    </div>
  </div>
</section>
